.. _function:

函数定义
========

强制
----
- 所有函数均不能超过60行, 圈复杂度不能超过10, 超过则应考虑进行分解或重新设计.
- 函数的参数和返回类型均应进行类型注释.
- 函数定义应当遵循单一职责原则, 如函数命名存在 ``and`` 或者 ``or``, 则说明函数应当进行拆分.
- 函数参数数量不应超过5个, 且参数提供的信息不应超过实现该函数功能所需要的信息.
- 函数默认值只能为 ``None`` 或值传参对象, 禁止使用引用传参对象如 ``[]`` 和 ``{}``, 以防止非预期行为发生.
- 函数应尽量避免修改外部变量.
- lambda函数定义不能超过一行, 

推荐
----
- 函数应有清晰的docstring, 说明用途、参数和返回值.
- 对于复杂逻辑建议拆分为多个小函数, 提升可读性和可测试性.
- 参数顺序应遵循“必选参数在前, 默认参数在后”.

允许
----
- 对于简单的临时函数(如 lambda), 可省略类型注解, 但应保证语义清晰.
- 特殊情况下可适当放宽参数数量限制, 但需在注释中说明理由.